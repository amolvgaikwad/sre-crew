service_name: "rabbitmq-cluster-svc"
slos:
  - name: "Cluster Node Count"
    description: "The RabbitMQ cluster must have exactly 3 running nodes."
    # Logic: Count the number of running nodes. Target is 3.
    promql: "count(rabbitmq_up{job='rabbitmq'})"
    target_percentage: 3.0
    # Note: We treat this value as an absolute target, not a percentage, in our logic.

  - name: "Cluster Partition Tolerance"
    description: "The cluster must NOT have any network partitions."
    promql: "sum(rabbitmq_partitions)"
    threshold_value: 0.0
